{"title":"获取手机信息","date":"2019-03-28T10:20:16.000Z","slug":"获取手机信息","updated":"2019-04-02T14:48:46.926Z","content":"<p>iOS的APP的应用开发的过程中，有时为了bug跟踪或者获取用反馈的需要自动收集用户设备、系统信息、应用信息等等，这些信息方便开发者诊断问题，当然这些信息是用户的非隐私信息，是通过开发api可以获取到的。那么通过那些api可以获取这些信息呢，iOS的SDK中提供了UIDevice，NSBundle，NSLocale。</p>\n<a id=\"more\"></a>\n<p>1.UIDevice<br>UIDevice提供了多种属性、类函数及状态通知，帮助我们全方位了解设备状况。从检测电池电量到定位设备与临近感应，UIDevice所做的工作就是为应用程序提供用户及设备的一些信息。UIDevice类还能够收集关于设备的各种具体细节，例如机型及iOS版本等。其中大部分属性都对开发工作具有积极的辅助作用。下面的代码简单的使用UIDevice获取手机属性。</p>\n<pre><code>//设备相关信息的获取\nNSString *strName = [[UIDevice currentDevice] name];\nNSLog(@”设备名称：%@”, strName);//e.g. “My iPhone”\n\nNSString *strId = [[UIDevice currentDevice] uniqueIdentifier];  \nNSLog(@&quot;设备唯一标识：%@&quot;, strId);//UUID,5.0后不可用  \n\nNSString *strSysName = [[UIDevice currentDevice] systemName];  \nNSLog(@&quot;系统名称：%@&quot;, strSysName);// e.g. @&quot;iOS&quot;  \n\nNSString *strSysVersion = [[UIDevice currentDevice] systemVersion];  \nNSLog(@&quot;系统版本号：%@&quot;, strSysVersion);// e.g. @&quot;4.0&quot;  \n\nNSString *strModel = [[UIDevice currentDevice] model];  \nNSLog(@&quot;设备模式：%@&quot;, strModel);// e.g. @&quot;iPhone&quot;, @&quot;iPod touch&quot;  \n\nNSString *strLocModel = [[UIDevice currentDevice] localizedModel];  \nNSLog(@&quot;本地设备模式：%@&quot;, strLocModel);// localized version of model  \n</code></pre><p>2.NSBundle<br>bundle是一个目录,其中包含了程序会使用到的资源. 这些资源包含了如图像,声音,编译好的代码,nib文件(用户也会把bundle称为plug-in). 对应bundle,cocoa提供了类NSBundle.一个应用程序看上去和其他文件没有什么区别. 但是实际上它是一个包含了nib文件,编译代码,以及其他资源的目录. 我们把这个目录叫做程序的main bundle。通过这个路径可以获取到应用的信息，例如应用名、版本号等。</p>\n<pre><code>//app应用相关信息的获取\nNSDictionary *dicInfo = [[NSBundle mainBundle] infoDictionary];\n// CFShow(dicInfo);\n\nNSString *strAppName = [dicInfo objectForKey:@”CFBundleDisplayName”];\nNSLog(@”App应用名称：%@”, strAppName);\n\nNSString *strAppVersion = [dicInfo objectForKey:@”CFBundleShortVersionString”];\nNSLog(@”App应用版本：%@”, strAppVersion);\n\nNSString *strAppBuild = [dicInfo objectForKey:@”CFBundleVersion”];\nNSLog(@”App应用Build版本：%@”, strAppBuild);\n</code></pre><p>3.NSLocale<br>NSLocale可以获取用户的本地化信息设置，例如货币类型，国家，语言，数字，日期格式的格式化，提供正确的地理位置显示等等。下面的代码获取机器当前语言和国家代码。</p>\n<pre><code>NSArray languageArray = [NSLocale preferredLanguages];\nNSString language = [languageArray objectAtIndex:0];\nNSLog(@”语言：%@”, language);//en\n\nNSLocale locale = [NSLocale currentLocale];\nNSString country = [locale localeIdentifier];\nNSLog(@”国家：%@”, country); //en_US\n</code></pre>","prev":{"title":"iOS网易云音乐锁屏界面实现","slug":"iOS网易云音乐锁屏界面实现"},"next":{"title":"关于runtime","slug":"关于runtime"},"link":"http://yoursite.com/post/获取手机信息/"}