{"title":"<__NSArrayM:XXXXXX> was mutated while being enumerated.","date":"2019-04-12T06:42:15.000Z","slug":"NSArrayM-XXXXXX-was-mutated-while-being-enumerated","updated":"2019-04-12T06:54:56.057Z","content":"<p>这样的代码运行起来会出现崩溃</p>\n<pre><code>//targetButton\nfor (UIButton * button in self.selectedBtnArr)\n{\n    if (targetButton.tag ==  button.tag)\n    {\n        [self.selectedBtnArr removeObject:button];\n    }\n}\n</code></pre><p>在对可变数据类型如字典、数组，进行快速遍历的时候，是不可以对其增、删操作。否则就会引起“&lt;__NSArrayM:XXXXXX&gt; was mutated while being enumerated.”的崩溃。</p>\n<a id=\"more\"></a>\n<p>官网对快速排序的说明<a href=\"https://developer.apple.com/documentation/foundation/nsenumerator?t=https%3A%2F%2Fdeveloper.apple.com%2Flibrary%2Fios%2Fdocumentation%2FCocoa%2FReference%2FFoundation%2FClasses%2FNSEnumerator_Class%2Findex.html\" target=\"_blank\" rel=\"noopener\">官方文档链接</a>)。重点为NOTE的内容：<br>It is not safe to modify a mutable collection while enumerating through it. Some enumerators may currently allow enumeration of a collection that is modified, but this behavior is not guaranteed to be supported in the future.<br>解决方案：</p>\n<pre><code>for (UIButton * button in self.selectedBtnArr)\n{\n    if (targetButton.tag ==  button.tag)\n    {\n        [self.selectedBtnArr removeObject:button];\n        break;\n    }\n}\n</code></pre>","prev":{"title":"iOS中圆角与阴影并存","slug":"iOS中圆角与阴影并存"},"next":{"title":"iOS 音频录制以及播放","slug":"iOS-音频录制以及播放"},"link":"http://yoursite.com/post/NSArrayM-XXXXXX-was-mutated-while-being-enumerated/"}